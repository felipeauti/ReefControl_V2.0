# ğŸ  ReefControl v3.0 - BinÃ¡rios de Firmware

**Sistema de AutomaÃ§Ã£o para AquÃ¡rios - ESP32 Pro & ESP8266 Compact**

---

## ğŸ“Š **VERSÃ•ES MAIS RECENTES**

### **ReefControl_V3.0.8_Pro_ESP32.bin** â­ **MAIS RECENTE - PRO ESP32**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 13/03/2024
- **ğŸ§  Uso de RAM:** 14.8% (48604 bytes de 327680 bytes)
- **ğŸ’¾ Uso de Flash:** 31.5% (990041 bytes de 3145728 bytes)
- **ğŸ”¥ Novidades:** OtimizaÃ§Ã£o geral do sistema e correÃ§Ãµes de bugs
  - âœ… Melhorias na interface de calibraÃ§Ã£o
  - âœ… OtimizaÃ§Ã£o do cÃ³digo do sensor DS18B20
  - âœ… Logs mais detalhados no console
  - âœ… CorreÃ§Ãµes de estabilidade

### **ReefControl_V3.0.8_Compact_ESP8266.bin** â­ **MAIS RECENTE - COMPACT ESP8266**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 13/03/2024
- **ğŸ§  Uso de RAM:** 50.5% (41392 bytes de 81920 bytes)
- **ğŸ’¾ Uso de Flash:** 42.6% (445155 bytes de 1044464 bytes)
- **ğŸ”¥ Novidades:** Mesmas otimizaÃ§Ãµes da versÃ£o Pro, adaptadas para ESP8266

### **ReefControl_V3.0.7_Pro_ESP32.bin** â­ **MAIS RECENTE - PRO ESP32**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 13/03/2024
- **ğŸ§  Uso de RAM:** 14.8% (48604 bytes de 327680 bytes)
- **ğŸ’¾ Uso de Flash:** 31.5% (990041 bytes de 3145728 bytes)
- **ğŸ”¥ Novidades:** CalibraÃ§Ã£o de temperatura do DS18B20 100% funcional!
  - âœ… DetecÃ§Ã£o automÃ¡tica do endereÃ§o OneWire
  - âœ… Interface web para calibraÃ§Ã£o
  - âœ… CÃ¡lculo de offset preciso
  - âœ… PersistÃªncia da calibraÃ§Ã£o
  - âœ… Logs detalhados no console

### **ReefControl_V3.0.7_Compact_ESP8266.bin** â­ **MAIS RECENTE - COMPACT ESP8266**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 13/03/2024
- **ğŸ”¥ Novidades:** Mesmas funcionalidades da versÃ£o Pro, otimizadas para ESP8266

### **ReefControl_V3.0.6_Pro_ESP32.bin** & **Compact_ESP8266.bin**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 12/03/2024
- **ğŸ”¥ Novidades:** ImplementaÃ§Ã£o inicial da calibraÃ§Ã£o de temperatura
- **âš ï¸ Conhecido:** Valor real nÃ£o estava sendo enviado corretamente ao backend

### **ReefControl_V3.0.5_Pro_ESP32.bin** & **Compact_ESP8266.bin**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 11/03/2024
- **ğŸ”¥ Novidades:** AdiÃ§Ã£o de APIs para buscar endereÃ§os OneWire e pinos disponÃ­veis

### **ReefControl_V3.0.4_Pro_ESP32.bin** & **Compact_ESP8266.bin**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 10/03/2024
- **ğŸ”¥ Novidades:** ImplementaÃ§Ã£o do mÃ©todo scanOneWireAddresses

### **ReefControl_V3.0.3_Pro_ESP32.bin** & **Compact_ESP8266.bin**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 09/03/2024
- **ğŸ”¥ Novidades:** RestauraÃ§Ã£o do HTML original da pÃ¡gina sensors.html com IDs corretos

### **ReefControl_V2.2.28_Pro_ESP32.bin** â­ **MAIS RECENTE - PRO ESP32**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 27/01/2024
- **ğŸ“¦ Tamanho:** 986.6KB (986.629 bytes)
- **ğŸ§  Uso de RAM:** 14.9% (48.892/327.680 bytes)
- **ğŸ’¾ Uso de Flash:** 31.4% (986.629/3.145.728 bytes)
- **ğŸ”¥ Novidades:** NTP Server 100% funcional em ambas plataformas (ESP32 Pro e Wemos Compact)!

### **ReefControl_V2.2.28_Compact_ESP8266.bin** â­ **MAIS RECENTE - COMPACT ESP8266**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 27/01/2024
- **ğŸ“¦ Tamanho:** 442.4KB (442.475 bytes)
- **ğŸ§  Uso de RAM:** 49.6% (40.592/81.920 bytes)
- **ğŸ’¾ Uso de Flash:** 42.4% (442.475/1.044.464 bytes)
- **ğŸ”¥ Novidades:** NTP Server 100% funcional em ambas plataformas (ESP32 Pro e Wemos Compact)!

### **ReefControl_V2.2.8_Pro_ESP32.bin** â­ **MAIS RECENTE - PRO ESP32**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 27/06/2025 22:15
- **ğŸ“¦ Tamanho:** 943.2KB (958.765 bytes)
- **ğŸ§  Uso de RAM:** 14.7% (48.140/327.680 bytes)
- **ğŸ’¾ Uso de Flash:** 30.5% (958.765/3.145.728 bytes)
- **ğŸ”¥ Novidades:** SWITCH VISUAL APRIMORADO - Maior (50x28px), bolinha perfeita, sombra 3D!

### **ReefControl_V2.2.7_Pro_ESP32.bin** âœ… **PRO ESP32**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 27/06/2025 21:30
- **ğŸ“¦ Tamanho:** 943.2KB (958.765 bytes)
- **ğŸ§  Uso de RAM:** 14.7% (48.140/327.680 bytes)
- **ğŸ’¾ Uso de Flash:** 30.5% (958.765/3.145.728 bytes)
- **âœ… Status:** Interface corrigida, switch funcional

### **ReefControl_V2.2.6_Pro_ESP32.bin** âŒ **VERSÃƒO COM BUG**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 27/06/2025 20:45
- **ğŸ“¦ Tamanho:** 943.2KB (958.765 bytes)
- **ğŸ§  Uso de RAM:** 14.7% (48.140/327.680 bytes)
- **ğŸ’¾ Uso de Flash:** 30.5% (958.765/3.145.728 bytes)
- **âš ï¸ Problema:** Switch premium quebrou a interface - NÃƒO USAR!

### **ReefControl_V2.2.5_Pro_ESP32.bin** âœ… **PRO ESP32**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 27/06/2025 20:15
- **ğŸ“¦ Tamanho:** 943.2KB (958.765 bytes)
- **ğŸ§  Uso de RAM:** 14.7% (48.140/327.680 bytes)
- **ğŸ’¾ Uso de Flash:** 30.5% (958.765/3.145.728 bytes)
- **ğŸ”¥ Novidades:** SWITCH MAN/AUTO CORRIGIDO - Visual profissional, persistÃªncia funcional, status limpo!

### **ReefControl_V2.2.4_Pro_ESP32.bin** âœ… **PRO ESP32**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 27/06/2025 19:45
- **ğŸ“¦ Tamanho:** 943.2KB (958.765 bytes)
- **ğŸ§  Uso de RAM:** 14.7% (48.140/327.680 bytes)
- **ğŸ’¾ Uso de Flash:** 30.5% (958.765/3.145.728 bytes)
- **ğŸ”¥ Novidades:** SWITCH MAN/AUTO IMPLEMENTADO - Interface com controle manual/automÃ¡tico visual!

### **ReefControl_V2.2.3_Pro_ESP32.bin** âœ… **PRO ESP32**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 27/06/2025 17:15
- **ğŸ“¦ Tamanho:** 943.2KB (958.765 bytes)
- **ğŸ§  Uso de RAM:** 14.7% (48.140/327.680 bytes)
- **ğŸ’¾ Uso de Flash:** 30.5% (958.765/3.145.728 bytes)
- **ğŸ”¥ Novidades:** REBOOT LOOP CORRIGIDO - Sistema estÃ¡vel com proteÃ§Ãµes watchdog!

### **ReefControl_V2.2.2_Pro_ESP32.bin** âœ… **PRO ESP32**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 27/06/2025 17:05
- **ğŸ“¦ Tamanho:** 943.0KB (958.569 bytes)
- **ğŸ§  Uso de RAM:** 14.7% (48.140/327.680 bytes)
- **ğŸ’¾ Uso de Flash:** 30.5% (958.569/3.145.728 bytes)
- **ğŸ”¥ Novidades:** BUG CRÃTICO CORRIGIDO - ConfiguraÃ§Ãµes retentivas funcionando 100%!

### **ReefControl_V2.2.1_Pro_ESP32.bin** âœ… **PRO ESP32**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 27/06/2025 16:46
- **ğŸ“¦ Tamanho:** 943.0KB (965.152 bytes)
- **ğŸ§  Uso de RAM:** 14.7% (48.140/327.680 bytes)
- **ğŸ’¾ Uso de Flash:** 30.5% (958.569/3.145.728 bytes)
- **ğŸ”¥ Novidades:** LOGS LIMPOS - Removidos prints falsos dos sensores para terminal limpo!

### **ReefControl_V2.1.0_Compact.bin** â­ **COMPACTA ESP8266**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 14/01/2025 20:15
- **ğŸ“¦ Tamanho:** 416.9KB (426.735 bytes)
- **ğŸ§  Uso de RAM:** 46.6% (38.180/81.920 bytes)
- **ğŸ’¾ Uso de Flash:** 40.9% (426.735/1.044.464 bytes)
- **ğŸ”¥ Novidades:** ARQUITETURA DUAL-VERSION - Compatibilidade ESP8266/ESP32!

### **ReefControl_V2.2.0_Pro_ESP32.bin** ğŸš€ **NOVO - PRO ESP32**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 14/01/2025 20:17
- **ğŸ“¦ Tamanho:** 941.8KB (964.409 bytes)
- **ğŸ§  Uso de RAM:** 14.7% (48.172/327.680 bytes)
- **ğŸ’¾ Uso de Flash:** 30.7% (964.409/3.145.728 bytes)
- **ğŸ”¥ Novidades:** VERSÃƒO ESP32 - 8 saÃ­das, sensores avanÃ§ados, automaÃ§Ã£o completa!

### **ReefControl_V2.0.12.bin** âœ… **LEGACY ESP8266**
- **ğŸ“… Data de CompilaÃ§Ã£o:** 27/06/2025 14:30
- **ğŸ“¦ Tamanho:** 413.0KB (422.871 bytes)
- **ğŸ§  Uso de RAM:** 45.6% (37.356/81.920 bytes)
- **ğŸ’¾ Uso de Flash:** 40.5% (422.871/1.044.464 bytes)
- **ğŸ”¥ Novidades:** FASE 1 IMPLEMENTADA - Ãcones padronizados, controles Liga/Desliga, validaÃ§Ã£o GPIO!

**âœ¨ PRINCIPAIS FUNCIONALIDADES v2.0.12:**
- âœ… **ÃCONES PADRONIZADOS** - Todas as saÃ­das agora usam ğŸ”Œ (tomada genÃ©rica)
- âœ… **CONTROLES LIGA/DESLIGA** - BotÃµes separados âš¡ LIGA e â¹ï¸ DESLIGA com feedback visual
- âœ… **VALIDAÃ‡ÃƒO GPIO EM TEMPO REAL** - Detecta e alerta sobre GPIOs duplicados com pisca vermelho
- âœ… **BOTÃƒO TESTAR REMOVIDO** - Interface mais limpa focada nos controles essenciais
- âœ… **VALIDAÃ‡ÃƒO ANTES DE SALVAR** - Impede salvar configuraÃ§Ãµes com GPIOs conflitantes
- âœ… **NOMENCLATURA PADRONIZADA** - Todas as APIs usam output1, output2, output3, output4
- âœ… **NOMES PADRÃƒO ATUALIZADOS** - Bomba, Termostato, Chiller, Skimmer
- âœ… **PERSISTÃŠNCIA 100% CORRIGIDA** - ConfiguraÃ§Ãµes de GPIO e nomes salvos permanentemente
- âœ… **Interface 100% Limpa** - Zero mensagens verdes atrapalhando o layout
- âœ… **Debug Console Otimizado** - Logs organizados e interface profissional

---

## ğŸ“ˆ **CHANGELOG COMPLETO**

### **v2.2.28** - 27/01/2024 - NTP SERVER 100% FUNCIONAL! ğŸŒâœ¨
**ğŸ¯ COMPATIBILIDADE TOTAL:** NTP Server funcionando perfeitamente em ambas plataformas!

**âœ… FUNCIONALIDADES TESTADAS:**

**ğŸ•’ NTP Server:**
- **Timezone UTC-3 (Brasil)** funcionando corretamente em ambas plataformas
- **SincronizaÃ§Ã£o automÃ¡tica** do horÃ¡rio via internet
- **PersistÃªncia de configuraÃ§Ãµes** do servidor NTP
- **Interface web** mostrando horÃ¡rio correto
- **Debug console** com timestamps precisos

**ğŸ”Œ SaÃ­das de Controle:**
- **ESP32 Pro:** 8 saÃ­das disponÃ­veis
- **Wemos Compact:** 4 saÃ­das disponÃ­veis
- **Interface adaptativa** ajustando-se ao nÃºmero de saÃ­das
- **Controle manual/automÃ¡tico** funcionando
- **PersistÃªncia de estados** apÃ³s reinicializaÃ§Ã£o

**ğŸ“± Interface Web:**
- **Design responsivo** em ambas plataformas
- **Debug console** em todas as pÃ¡ginas
- **Switches premium** para controle visual
- **Status em tempo real** das saÃ­das
- **ConfiguraÃ§Ã£o simplificada** do timezone

**ğŸ”§ OtimizaÃ§Ãµes:**
- **Uso de memÃ³ria otimizado** para ESP8266
- **Sistema de arquivos** (SPIFFS/LittleFS) organizado
- **CÃ³digo compatÃ­vel** entre plataformas
- **Logs limpos** e informativos
- **Performance melhorada** em ambos dispositivos

### **v2.2.7** - 27/06/2025 - BUG CORRIGIDO! âœ…ğŸ› ï¸
**ğŸ”§ CORREÃ‡ÃƒO CRÃTICA:** Interface Man/Auto funcionando perfeitamente apÃ³s correÃ§Ã£o do switch premium!

**âœ… PROBLEMAS CORRIGIDOS:**

**ğŸ› Switch Premium Simplificado:**
- **Revertido para switch simples e funcional** (44x24px) em vez do complexo
- **CSS otimizado** sem gradientes complexos que causavam problemas de renderizaÃ§Ã£o
- **JavaScript corrigido** - funÃ§Ã£o `toggleMode()` Ãºnica sem duplicatas
- **Compatibilidade garantida** com todos os navegadores

**ğŸ¯ Interface EstÃ¡vel:**
- **Sem erros JavaScript** que travavam o carregamento da pÃ¡gina
- **"Carregando status das saÃ­das..."** resolvido - interface carrega instantaneamente
- **Handlers de requisiÃ§Ã£o** funcionando corretamente (fim dos erros 404)
- **PersistÃªncia 100% funcional** - switches mantÃªm estado apÃ³s reboot

**ğŸš€ Performance Melhorada:**
- **Tempo de carregamento** reduzido drasticamente
- **RenderizaÃ§Ã£o fluida** sem travamentos
- **Compatibilidade ESP32** garantida

**ğŸ“± UX Aprimorada:**
- **3 controles alinhados** perfeitamente: [Liga] [Desliga] [Man/Auto]
- **Feedback visual** imediato ao alternar modos
- **Status limpo** sem poluiÃ§Ã£o: apenas "LIGADO"/"DESLIGADO"

### **v2.2.6** - 27/06/2025 - SWITCH PREMIUM IMPLEMENTADO! ğŸ¨âœ¨ âŒ **VERSÃƒO COM BUG**
**ğŸ¯ REVOLUÃ‡ÃƒO VISUAL:** Switch Man/Auto completamente redesenhado com design premium e animaÃ§Ãµes suaves!

**âœ… MUDANÃ‡AS IMPLEMENTADAS:**

**ğŸ¨ Switch Premium - Design Moderno:**
- **Tamanho Ideal:** 90x40px (vs 44x24px anterior) - muito mais clicÃ¡vel e visÃ­vel
- **Visual 3D:** Gradientes sofisticados com efeitos inset/outset para profundidade
- **AnimaÃ§Ãµes Suaves:** TransiÃ§Ãµes cubic-bezier personalizadas para movimento fluido
- **Bolinha Premium:** 34x34px com sombras realistas e movimento bounce

**ğŸ­ Estados Visuais Inteligentes:**
- **Modo Manual:** Fundo cinza com gradiente + Ã­cone ğŸ‘¤ vermelho
- **Modo AutomÃ¡tico:** Fundo verde com gradiente + Ã­cone ğŸ¤– verde
- **Textos Integrados:** "MAN" e "AUTO" posicionados nas laterais do switch
- **Feedback Hover:** Escala 1.02x + glow effect para melhor UX

**ğŸ”„ Status Colorido:**
- **MANUAL:** Badge gradiente vermelho com borda sutil
- **AUTOMÃTICO:** Badge gradiente verde com borda sutil
- **Label Descritiva:** "ğŸ”„ Modo de OperaÃ§Ã£o" ao invÃ©s de simples "Modo"

**âš¡ Funcionalidades Aprimoradas:**
- **Clique Ãšnico:** FunÃ§Ã£o `toggleModeSwitch()` para alternÃ¢ncia simples
- **Auto-Save:** Salva configuraÃ§Ã£o 500ms apÃ³s mudanÃ§a (debounce)
- **Re-render Inteligente:** Interface atualizada com animaÃ§Ã£o suave
- **Logs Detalhados:** "AUTOMÃTICO ğŸ¤–" vs "MANUAL ğŸ‘¤" no debug

**ğŸ“Š Arquivos Atualizados:**
- `src/html/output.html` - Switch premium CSS + nova funÃ§Ã£o JS
- `data/html/output.html` - CÃ³pia sincronizada
- `platformio.ini` - VersÃ£o atualizada para v2.2.6

**ğŸ¯ RESULTADO:** Interface de switch mais bonita e profissional do ReefControl, comparable aos melhores apps modernos!

### **v2.2.5** - 27/06/2025 - SWITCH MAN/AUTO CORRIGIDO! ğŸ¯âœ¨
**ğŸ¯ CORREÃ‡Ã•ES CRÃTICAS:** Interface visual melhorada e persistÃªncia corrigida!

**âœ… MUDANÃ‡AS IMPLEMENTADAS:**

**ğŸ¨ Visual Profissional:**
- **Status Limpo:** Removido "(MAN)" e "(AUTO)" do status - agora apenas "LIGADO" ou "DESLIGADO"
- **Switch Proporcional:** Bolinha agora cabe perfeitamente (18x18px em container 44x24px)
- **DimensÃµes Otimizadas:** Largura reduzida de 50px â†’ 44px, border-radius de 24px â†’ 12px
- **Posicionamento Correto:** Bolinha posicionada com top:3px (nÃ£o bottom:3px)

**ğŸ”§ PersistÃªncia Corrigida:**
- **Auto-Save:** Switch salva automaticamente ao mudar (chama saveConfig())
- **Carregamento Garantido:** Switches atualizados apÃ³s cada render com setTimeout
- **Estado Consistente:** Valor persistido entre recarregamentos da pÃ¡gina

**ğŸ“Š Arquivos Atualizados:**
- `src/html/output.html` - CSS do switch corrigido e persistÃªncia implementada
- `data/html/output.html` - CÃ³pia sincronizada

**ğŸ¯ RESULTADO:** Switch visual profissional com persistÃªncia 100% funcional e status limpo!

### **v2.2.4** - 27/06/2025 - SWITCH MAN/AUTO IMPLEMENTADO! ğŸ”„âœ¨
**ğŸ¯ NOVA FUNCIONALIDADE:** Interface com controle visual de modo manual/automÃ¡tico!

**âœ… MUDANÃ‡AS IMPLEMENTADAS:**

**ğŸ›ï¸ Switch Manual/AutomÃ¡tico:**
- **3 Controles Alinhados:** [Liga] [Desliga] [Man/Auto] distribuÃ­dos uniformemente
- **Switch Visual:** Vermelho (Manual) â†” Verde (AutomÃ¡tico) com transiÃ§Ã£o suave
- **DesabilitaÃ§Ã£o Inteligente:** BotÃµes Liga/Desliga desabilitados em modo automÃ¡tico
- **Status Visual:** IndicaÃ§Ã£o no cabeÃ§alho "LIGADO (MAN)" ou "DESLIGADO (AUTO)"

**ğŸ”§ CorreÃ§Ãµes Frontend/Backend:**
- **Compatibilidade:** Frontend ajustado para usar campo `autoMode` (boolean) do backend
- **PersistÃªncia:** ConfiguraÃ§Ãµes de modo salvas e carregadas corretamente
- **ValidaÃ§Ã£o:** Modo automÃ¡tico bloqueia controles manuais com feedback visual

**ğŸ“Š Arquivos Atualizados:**
- `src/html/output.html` - Interface com switch Man/Auto e controles inteligentes
- `data/html/output.html` - CÃ³pia sincronizada com correÃ§Ãµes
- CSS otimizado para switch visual limpo sem textos internos

**ğŸ¯ RESULTADO:** Interface profissional com controle visual de modo manual/automÃ¡tico funcionando 100%!

### **v2.2.3** - 27/06/2025 - REBOOT LOOP CORRIGIDO! ğŸš«ğŸ”„âœ…
**ğŸ¯ PROBLEMA CRÃTICO RESOLVIDO:** Sistema estava em reboot loop infinito devido a stack overflow e watchdog timeout!

**âœ… MUDANÃ‡AS IMPLEMENTADAS:**

**ğŸ§  Stack Overflow Prevention:**
- **Buffers JSON Otimizados:** Reduzido de 4096 â†’ 3072 bytes (toJson/fromJson)
- **Buffers Outputs Ajustados:** Reduzido de 2048 â†’ 1536 bytes (outputs JSON)
- **AlocaÃ§Ã£o Segura:** Evitado estouro da pilha do ESP32

**â±ï¸ Watchdog Protection:**
- **yield() EstratÃ©gico:** Adicionado em pontos crÃ­ticos da inicializaÃ§Ã£o
- **Delays Otimizados:** Loop principal aumentado de 50ms â†’ 100ms
- **Setup Protegido:** yield() entre inicializaÃ§Ãµes de mÃ³dulos

**ğŸ”„ Failsafe System:**
- **VerificaÃ§Ã£o de Erros:** Restart automÃ¡tico se config.begin() falhar
- **RAM Monitor:** Log de memÃ³ria livre na inicializaÃ§Ã£o
- **EstabilizaÃ§Ã£o:** Delay de 2s no inÃ­cio do setup para ESP32

**ğŸ“Š Arquivos Atualizados:**
- `src/core/ConfigManager.cpp` - Buffers otimizados para estabilidade
- `src/main.cpp` - ProteÃ§Ãµes watchdog e failsafe implementadas
- `platformio.ini` - VersÃ£o atualizada para v2.2.3

**ğŸ¯ RESULTADO:** Sistema ESP32 agora inicializa de forma estÃ¡vel sem reboot loops!

### **v2.2.2** - 27/06/2025 - CONFIGURAÃ‡Ã•ES RETENTIVAS CORRIGIDAS! ğŸ”§âœ…
**ğŸ¯ PROBLEMA CRÃTICO RESOLVIDO:** Buffer JSON insuficiente causava erro "NoMemory" e perda de configuraÃ§Ãµes!

**âœ… MUDANÃ‡AS IMPLEMENTADAS:**

**ğŸ§  Buffers JSON ESP32 Otimizados:**
- **toJson():** Buffer aumentado de 2048 â†’ 4096 bytes para ESP32 Pro
- **fromJson():** Buffer aumentado de 2048 â†’ 4096 bytes para ESP32 Pro
- **getOutputsJson():** Buffer aumentado de 1024 â†’ 2048 bytes para ESP32 Pro
- **setOutputsFromJson():** Buffer aumentado de 1024 â†’ 2048 bytes para ESP32 Pro

**ğŸ”§ CorreÃ§Ã£o do Erro "NoMemory":**
- **Causa:** JSON das configuraÃ§Ãµes ESP32 Pro era maior que buffer 2048 bytes
- **Sintoma:** `âŒ Erro ao parsear JSON: NoMemory` + configuraÃ§Ãµes sempre voltando ao padrÃ£o
- **SoluÃ§Ã£o:** Buffers condicionais ESP32 vs ESP8266 com tamanhos adequados

**ğŸ“Š Arquivos Atualizados:**
- `src/core/ConfigManager.cpp` - Buffers JSON condicionais por plataforma
- `platformio.ini` - VersÃ£o atualizada para v2.2.2

**ğŸ¯ RESULTADO:** ConfiguraÃ§Ãµes de nomes e GPIOs das saÃ­das agora sÃ£o 100% persistentes no ESP32!

### **v2.2.1** - 27/06/2025 - LOGS LIMPOS! ğŸ§¹âœ¨
**ğŸ¯ MELHORIA SOLICITADA:** Remover prints falsos dos sensores que poluÃ­am o terminal!

**âœ… MUDANÃ‡AS IMPLEMENTADAS:**

**ğŸ§¹ Terminal Limpo:**
- **main.cpp:** Removido print "ğŸ“Š Temp: XÂ°C | pH: X | TDS: X | NÃ­vel: X%" que aparecia a cada 5s
- **SensorManager.cpp:** Esvaziado mÃ©todo `printReadings()` que imprimia dados simulados
- **Log Organizado:** Terminal agora mostra apenas informaÃ§Ãµes realmente importantes
- **Performance:** Menos overhead de impressÃ£o no loop principal

**ğŸ”§ Arquivos Atualizados:**
- `src/main.cpp` - Print dos sensores comentado no loop principal
- `src/core/SensorManager.cpp` - MÃ©todo printReadings() limpo

**ğŸ¯ RESULTADO:** Terminal 100% limpo sem dados falsos de sensores, focado apenas nas informaÃ§Ãµes essenciais do sistema!

### **v2.2.0** - 14/01/2025 - REEFCONTROL PRO ESP32! ğŸš€âœ¨
**ğŸ¯ ARQUITETURA DUAL-VERSION:** Sistema agora suporta ESP8266 E ESP32 com builds especÃ­ficos!

**âœ… MUDANÃ‡AS IMPLEMENTADAS:**

**ğŸ”§ Sistema Dual-Environment:**
- **ReefControl Compact (ESP8266):** VersÃ£o otimizada com 4 saÃ­das
- **ReefControl Pro (ESP32):** VersÃ£o completa com 8 saÃ­das e recursos avanÃ§ados
- **Codebase Ãšnico:** 95% do cÃ³digo compartilhado entre versÃµes
- **Build Condicional:** `platformio.ini` com environments compact/pro

**ğŸ“‹ Capabilities System:**
- **`src/capabilities/Capabilities.h`:** DetecÃ§Ã£o automÃ¡tica de recursos
- **API `/api/capabilities`:** Interface para consulta de funcionalidades
- **AdaptaÃ§Ã£o AutomÃ¡tica:** JavaScript se adapta conforme hardware

**ğŸ”Œ Compatibilidade ESP32:**
- **WiFiManager:** Include condicional `WiFi.h` vs `ESP8266WiFi.h`
- **WebServer:** AdaptaÃ§Ã£o `WebServer` vs `ESP8266WebServer`
- **Sistema de Arquivos:** `SPIFFS` (ESP32) vs `LittleFS` (ESP8266)
- **Pinos GPIO:** Mapeamento especÃ­fico para cada plataforma

**ğŸ¯ PINOS ESP32:**
- **RelÃ©s:** GPIO5, GPIO18, GPIO19, GPIO21
- **Sensores:** GPIO4 (OneWire), GPIO36/39 (ADC)
- **Sistema:** ConfiguraÃ§Ã£o automÃ¡tica por platform

**ğŸ“Š RECURSOS COMPACT vs PRO:**
| Recurso | Compact (ESP8266) | Pro (ESP32) |
|---------|-------------------|-------------|
| **SaÃ­das** | 4 configurÃ¡veis | 8 configurÃ¡veis |
| **Sensores** | Temp + NÃ­vel | Multi-sensores |
| **AutomaÃ§Ã£o** | BÃ¡sica | AvanÃ§ada |
| **MQTT** | BÃ¡sico | Completo |
| **RAM** | 46.6% (38KB) | 14.7% (48KB) |
| **Flash** | 40.9% (426KB) | 30.7% (964KB) |

**ğŸ¯ RESULTADO:** Agora vocÃª pode escolher ESP8266 (economia) ou ESP32 (recursos avanÃ§ados)!

### **v2.1.0** - 14/01/2025 - ARQUITETURA DUAL-VERSION! ğŸ—ï¸âœ¨
**ğŸ¯ NOVA ESTRATÃ‰GIA:** PreparaÃ§Ã£o para suporte ESP8266 E ESP32 simultaneamente!

**âœ… MUDANÃ‡AS IMPLEMENTADAS:**

**ğŸ”§ PlatformIO Dual-Environment:**
```ini
[env:compact]    # ESP8266 - 4 saÃ­das
[env:pro]        # ESP32 - 8 saÃ­das
[env:d1_mini]    # Legacy compatibility
```

**ğŸ§  Sistema de Capabilities:**
- **DetecÃ§Ã£o AutomÃ¡tica:** Hardware detectado em tempo de compilaÃ§Ã£o
- **Interface Adaptativa:** JavaScript adapta recursos disponÃ­veis
- **APIs Inteligentes:** Respondem conforme capabilities do hardware

**ğŸ¯ RESULTADO:** Base sÃ³lida para estratÃ©gia dual-version implementada!

### **v2.0.12** - 27/06/2025 - FASE 1 IMPLEMENTADA! ğŸ¯âœ¨
**ğŸ¯ ROADMAP FASE 1:** Melhorias bÃ¡sicas de UX e controles implementadas conforme planejamento!

**âœ… MUDANÃ‡AS IMPLEMENTADAS:**

**ğŸ”Œ Ãcones Padronizados:**
- Todas as saÃ­das agora usam Ã­cone de tomada genÃ©rica (ğŸ”Œ)
- Removidos Ã­cones especÃ­ficos (ğŸ”¥ğŸŒ¡ï¸â„ï¸ğŸŒªï¸) que ficavam desatualizados
- Interface consistente independente do uso da saÃ­da

**âš¡ Controles Liga/Desliga Aprimorados:**
- BotÃµes separados "âš¡ LIGA" e "â¹ï¸ DESLIGA" com feedback visual
- BotÃ£o "Testar" removido (funcionalidade desnecessÃ¡ria)
- Estados visuais claros (opacidade indica botÃ£o ativo)
- BotÃ£o "ğŸ’¾ Salvar ConfiguraÃ§Ã£o" reformulado

**ğŸš¨ ValidaÃ§Ã£o GPIO em Tempo Real:**
- Detecta GPIOs duplicados instantaneamente ao selecionar
- Alerta visual com borda vermelha piscante (animaÃ§Ã£o CSS)
- Mensagem de aviso especÃ­fica abaixo do campo
- ValidaÃ§Ã£o antes de salvar impede configuraÃ§Ãµes invÃ¡lidas
- FunÃ§Ã£o `validateAllGPIOs()` para verificaÃ§Ã£o completa

**ğŸ§¹ Interface Mais Limpa:**
- CSS otimizado com classes `.gpio-error`, `.gpio-warning`
- AnimaÃ§Ã£o `@keyframes blink` para alertas visuais
- Controles mais intuitivos e profissionais
- Foco na funcionalidade essencial

**ğŸ”§ Arquivos Atualizados:**
- `data/html/output.html` - Interface completa renovada
- `src/html/output.html` - Sincronizado com data
- JavaScript com validaÃ§Ã£o em tempo real
- CSS com novos estilos de validaÃ§Ã£o

**ğŸ¯ RESULTADO:** FASE 1 do roadmap 100% implementada! Interface mais profissional e intuitiva.

### **v2.0.11** - 27/06/2025 - NOMENCLATURA PADRONIZADA! ğŸ·ï¸âœ¨
**ğŸ¯ MELHORIA SOLICITADA:** Padronizar nomenclatura das saÃ­das em todo o sistema!

**âœ… MUDANÃ‡AS IMPLEMENTADAS:**

**ğŸ·ï¸ Nomenclatura Unificada:**
- `pump1` â†’ `output1` (SaÃ­da 1)
- `heater` â†’ `output2` (SaÃ­da 2) 
- `light` â†’ `output3` (SaÃ­da 3)
- `pump2` â†’ `output4` (SaÃ­da 4)

**ğŸ·ï¸ Nomes PadrÃ£o Atualizados:**
- "Bomba Principal" â†’ "Bomba" ğŸ”Œ
- "Aquecedor" â†’ "Termostato" ğŸ”¥
- "IluminaÃ§Ã£o LED" â†’ "Chiller" â„ï¸
- "Bomba ReposiÃ§Ã£o" â†’ "Skimmer" ğŸŒªï¸

**ğŸ”§ Arquivos Atualizados:**
- **ConfigManager:** setDefaults() com novos nomes padrÃ£o
- **WebServer:** APIs `/api/outputs` com nomenclatura output1-4
- **Interface HTML:** output.html, status.html com nova estrutura
- **MQTT Topics:** SugestÃµes atualizadas para output1-4
- **Todas as referÃªncias** pump1/heater/light/pump2 â†’ output1/2/3/4

**ğŸ¯ RESULTADO:** Sistema 100% consistente com nomenclatura padronizada em todas as camadas!

### **v2.0.10** - 27/06/2025 - BUG CRÃTICO CORRIGIDO! ğŸ›â¡ï¸âœ…
**ğŸ¯ PROBLEMA RESOLVIDO:** ConfiguraÃ§Ãµes de GPIO e nomes sempre voltavam ao padrÃ£o apÃ³s reinicializaÃ§Ã£o!

**ğŸ” CAUSA RAIZ IDENTIFICADA:**
- A funÃ§Ã£o `setDefaults()` no ConfigManager NÃƒO estava inicializando o array `relay.outputs[]`
- Apenas as variÃ¡veis antigas de compatibilidade eram inicializadas
- Resultado: configuraÃ§Ãµes ficavam com valores invÃ¡lidos (zeros ou lixo de memÃ³ria)

**âœ… CORREÃ‡ÃƒO IMPLEMENTADA:**
```cpp
// ANTES (BUG):
void setDefaults() {
  // ... outras configuraÃ§Ãµes ...
  relay.pump1Enabled = true;  // â† SÃ³ as antigas
  relay.heaterEnabled = true;
  // relay.outputs[] NÃƒO era inicializado! âŒ
}

// DEPOIS (CORRIGIDO):
void setDefaults() {
  // ... outras configuraÃ§Ãµes ...
  
  // ConfiguraÃ§Ãµes de saÃ­das - CORREÃ‡ÃƒO DO BUG!
  strcpy(relay.outputs[0].name, "Bomba Principal");
  relay.outputs[0].pin = 5;
  relay.outputs[0].enabled = true;
  // ... todos os 4 outputs inicializados corretamente âœ…
}
```

**ğŸ¯ RESULTADO:** Agora as configuraÃ§Ãµes de GPIO e nomes sÃ£o REALMENTE persistentes e funcionam 100%!

### **v2.0.9** - 27/06/2025 - INTERFACE 100% LIMPA ğŸ§¹âœ¨
**ğŸ¯ PROBLEMA RESOLVIDO:** Mensagens verdes de sucesso atrapalhavam o layout e deslocavam os cards!

**âœ… CORREÃ‡Ã•ES:**
- **FunÃ§Ã£o `showSuccessMessage()` Removida:**
  - Eliminada completamente a funÃ§Ã£o que criava as telonas verdes
  - Todas as mensagens de sucesso redirecionadas para `debugLog()`
  - CSS `.success-msg` nÃ£o Ã© mais utilizado

- **Layout 100% Limpo:**
  - Cards permanecem alinhados perfeitamente
  - Zero interferÃªncia visual durante operaÃ§Ãµes
  - Interface profissional sem distraÃ§Ãµes

- **Mensagens Organizadas:**
  - `âœ… ConfiguraÃ§Ã£o salva com sucesso!` â†’ Debug Console
  - `âœ… Aquecedor ligado!` â†’ Debug Console  
  - `ğŸ”§ Testando por 2 segundos...` â†’ Debug Console
  - `ğŸ‰ Todas as configuraÃ§Ãµes salvas!` â†’ Debug Console

- **ExperiÃªncia Melhorada:**
  - UsuÃ¡rio pode focar nos controles principais
  - Debug console no final da pÃ¡gina com todas as informaÃ§Ãµes
  - Performance otimizada sem elementos DOM desnecessÃ¡rios

### **v2.0.8** - 26/06/2025 - ANTI-INTERRUPÃ‡ÃƒO DE DIGITAÃ‡ÃƒO ğŸš«âœï¸
**ğŸ¯ PROBLEMA RESOLVIDO:** Timer automÃ¡tico interrompia digitaÃ§Ã£o nos campos de nome!

**âœ… CORREÃ‡Ã•ES:**
- **DetecÃ§Ã£o Inteligente de Foco:**
  - Sistema verifica se usuÃ¡rio estÃ¡ digitando antes de atualizar interface
  - `setInterval` pausa quando detecta `document.activeElement` em campo de texto
  - Preserva valores durante render para evitar perda de dados

- **ProteÃ§Ã£o Durante EdiÃ§Ã£o:**
  - FunÃ§Ã£o `renderOutputs()` com backup/restore de valores ativos
  - RestauraÃ§Ã£o automÃ¡tica de foco e posiÃ§Ã£o do cursor
  - Zero interrupÃ§Ã£o durante digitaÃ§Ã£o de nomes

- **ExperiÃªncia Melhorada:**
  - UsuÃ¡rio pode digitar nomes completos sem ser cortado
  - Interface continua responsiva quando nÃ£o hÃ¡ ediÃ§Ã£o ativa
  - MantÃ©m funcionalidade de atualizaÃ§Ã£o automÃ¡tica

**ğŸ¯ RESULTADO:** Agora vocÃª pode digitar tranquilo sem ser interrompido pelo sistema!

### **v2.0.7** - 26/06/2025 - INTERFACE OTIMIZADA ğŸ¨
**ğŸ¯ MELHORIAS DE UX:** Debug console e logs inteligentes implementados!

**âœ… OTIMIZAÃ‡Ã•ES:**
- **Debug Console Reposicionado:**
  - Movido do topo para o final da pÃ¡gina
  - NÃ£o atrapalha mais a visualizaÃ§Ã£o dos controles principais
  - Margem superior de 30px para separaÃ§Ã£o visual

- **Sistema de Logs Inteligentes:**
  - Implementada funÃ§Ã£o `detectChanges()` para monitorar alteraÃ§Ãµes
  - Logs apenas quando hÃ¡ mudanÃ§as reais (status, nomes, pinos)
  - Eliminado spam de logs a cada carregamento
  - Performance significativamente melhorada

- **Interface Mais Limpa:**
  - Foco nos controles principais (saÃ­das, configuraÃ§Ãµes)
  - Debug console menos intrusivo
  - ExperiÃªncia de usuÃ¡rio profissional

**ğŸ¯ RESULTADO:** Interface muito mais limpa e logs Ãºteis apenas quando necessÃ¡rio!

### **v2.0.6** - 26/06/2025 - PERSISTÃŠNCIA IMPLEMENTADA ğŸ¯
**ğŸ”§ PROBLEMA RESOLVIDO:** ConfiguraÃ§Ãµes de GPIO e nomes nÃ£o eram retidas apÃ³s reinicializaÃ§Ã£o!

**âœ… IMPLEMENTAÃ‡Ã•ES:**
- **ConfigManager Expandido:**
  - Nova estrutura `OutputConfig` para configuraÃ§Ãµes individuais
  - MÃ©todos `setOutputConfig()`, `getOutputsJson()`, `setOutputsFromJson()`
  - PersistÃªncia automÃ¡tica no LittleFS (`/config.json`)
  - Carregamento automÃ¡tico na inicializaÃ§Ã£o

- **WebServer APIs:**
  - `GET /api/outputs/config` - Obter configuraÃ§Ãµes salvas
  - `POST /api/outputs/config` - Salvar configuraÃ§Ãµes
  - IntegraÃ§Ã£o com ConfigManager para persistÃªncia real
  - Logs detalhados de todas as operaÃ§Ãµes

- **Interface Web:**
  - Carregamento automÃ¡tico de configuraÃ§Ãµes persistidas
  - BotÃ£o "ğŸ’¾ Salvar Todas as ConfiguraÃ§Ãµes" 
  - Fallback inteligente para configuraÃ§Ãµes padrÃ£o
  - Debug console com logs de persistÃªncia
  - Mensagens de sucesso visuais

**ğŸ¯ RESULTADO:** Agora as configuraÃ§Ãµes de GPIO e nomes sÃ£o salvas permanentemente!

### **v2.0.5** - 26/06/2025 - OTA FUNCIONANDO! ğŸš€
- âœ… Sistema OTA 100% funcional com ESP8266HTTPUpdateServer nativo
- âœ… Upload via interface web funcionando perfeitamente
- âœ… ReinicializaÃ§Ã£o automÃ¡tica apÃ³s update
- âœ… 12 pÃ¡ginas HTML responsivas
- âœ… API REST com endpoints `/api/sensors` e `/api/status`
- âœ… Controle real de 4 relÃ©s (GPIO 5, 4, 14, 12)
- âœ… Sistema de arquivos LittleFS
- âœ… mDNS (reefcontrol.local)

### **v2.0.4** - 26/06/2025 - OTA Manual
- âš ï¸ Tentativa de OTA com Update.h (nÃ£o funcionou completamente)
- âœ… Sistema base estÃ¡vel

### **v2.0.3** - 26/06/2025 - Teste OTA
- âš ï¸ Primeira tentativa de implementaÃ§Ã£o OTA
- âœ… APIs funcionando

### **v2.0.2** - 26/06/2025 - API Corrigida
- âœ… APIs `/api/sensors` e `/api/status` funcionando
- âœ… CorreÃ§Ãµes de bugs menores

### **v2.0.1** - 26/06/2025 - Primeira Tentativa OTA
- âš ï¸ OTA nÃ£o funcionando ainda
- âœ… Base do sistema implementada

### **v2.0.0** - 26/06/2025 - Base Funcional
- âœ… Sistema base com controle de relÃ©s
- âœ… Interface web bÃ¡sica
- âœ… Leitura de sensores

---

## ğŸ”§ **COMANDOS DE COMPILAÃ‡ÃƒO**

### **Para Compilar VersÃ£o Compact (ESP8266):**
```bash
# Compilar versÃ£o Compact para ESP8266
python -m platformio run -e compact

# Upload direto (com ESP8266 conectado)
python -m platformio run -e compact --target upload

# Upload do sistema de arquivos
python -m platformio run -e compact --target uploadfs
```

### **Para Compilar VersÃ£o Pro (ESP32):**
```bash
# Compilar versÃ£o Pro para ESP32
python -m platformio run -e pro

# Upload direto (com ESP32 conectado)  
python -m platformio run -e pro --target upload

# Upload do sistema de arquivos
python -m platformio run -e pro --target uploadfs
```

### **Para Compilar VersÃ£o Legacy (ESP8266):**
```bash
# Compilar versÃ£o legacy compatÃ­vel
python -m platformio run -e d1_mini
```

### **Monitorar Serial (ambas versÃµes):**
```bash
# Monitor serial
python -m platformio device monitor --port COM3 --baud 115200
```

---

## ğŸ”§ **ESPECIFICAÃ‡Ã•ES TÃ‰CNICAS**

### **Hardware Suportado:**

**ğŸ”Œ ReefControl Compact (ESP8266):**
- **Microcontrolador:** ESP8266 D1 Mini
- **FrequÃªncia:** 80MHz
- **RAM Total:** 80KB
- **Flash Total:** 1MB (1.044.464 bytes)
- **Sistema de Arquivos:** LittleFS
- **SaÃ­das:** 4 configurÃ¡veis
- **Sensores:** 2 bÃ¡sicos

**ğŸš€ ReefControl Pro (ESP32):**
- **Microcontrolador:** ESP32 DevKit
- **FrequÃªncia:** 240MHz (dual-core)
- **RAM Total:** 320KB
- **Flash Total:** 4MB (3.145.728 bytes)
- **Sistema de Arquivos:** SPIFFS
- **SaÃ­das:** 8 configurÃ¡veis
- **Sensores:** 8 avanÃ§ados

### **Pinout das SaÃ­das:**

**ğŸ”Œ ESP8266 (Compact):**
- **GPIO 5 (D1):** SaÃ­da 1 ğŸ”Œ
- **GPIO 4 (D2):** SaÃ­da 2 ğŸ”Œ  
- **GPIO 14 (D5):** SaÃ­da 3 ğŸ”Œ
- **GPIO 12 (D6):** SaÃ­da 4 ğŸ”Œ

**ğŸš€ ESP32 (Pro):**
- **GPIO 5:** SaÃ­da 1 ğŸ”Œ
- **GPIO 18:** SaÃ­da 2 ğŸ”Œ
- **GPIO 19:** SaÃ­da 3 ğŸ”Œ
- **GPIO 21:** SaÃ­da 4 ğŸ”Œ
- **GPIO 22:** SaÃ­da 5 ğŸ”Œ (futuro)
- **GPIO 23:** SaÃ­da 6 ğŸ”Œ (futuro)
- **GPIO 25:** SaÃ­da 7 ğŸ”Œ (futuro)
- **GPIO 26:** SaÃ­da 8 ğŸ”Œ (futuro)

### **Conectividade:**
- **WiFi:** 802.11 b/g/n (2.4GHz)
- **Protocolo Web:** HTTP/1.1
- **API:** REST JSON
- **OTA:** HTTP Upload nativo
- **mDNS:** reefcontrol.local

### **Sensores Suportados:**
- **Temperatura:** DS18B20 (OneWire)
- **pH:** Sensor analÃ³gico com calibraÃ§Ã£o
- **TDS:** Medidor de sÃ³lidos dissolvidos
- **NÃ­vel:** Sensor ultrassÃ´nico ou capacitivo

---

## ğŸ“¥ **COMO INSTALAR**

### **MÃ©todo 1: OTA (Recomendado)**
1. Acesse `http://192.168.68.135/ota`
2. FaÃ§a upload do arquivo `ReefControl_V2.0.9.bin`
3. Aguarde a atualizaÃ§Ã£o automÃ¡tica
4. Sistema reinicia automaticamente

### **MÃ©todo 2: Via Cabo USB**
1. Use PlatformIO ou Arduino IDE
2. Conecte o ESP8266 via USB
3. FaÃ§a upload do firmware
4. Configure o WiFi pelo AP "ReefControl_AP"

### **MÃ©todo 3: BinÃ¡rio Direto**
```bash
esptool.py --port COM3 --baud 921600 write_flash 0x0 ReefControl_V2.0.7.bin
```

---

## ğŸŒ **ACESSO AO SISTEMA**

### **URLs Principais:**
- **Login:** `http://192.168.68.135/login`
- **Home:** `http://192.168.68.135/home`
- **Controle de SaÃ­das:** `http://192.168.68.135/output`
- **Sensores:** `http://192.168.68.135/sensors`
- **OTA Update:** `http://192.168.68.135/ota`
- **ConfiguraÃ§Ãµes:** `http://192.168.68.135/config`

### **APIs REST:**
- **GET** `/api/outputs` - Status das saÃ­das
- **POST** `/api/outputs` - Controlar saÃ­das
- **GET** `/api/outputs/config` - Obter configuraÃ§Ãµes salvas
- **POST** `/api/outputs/config` - Salvar configuraÃ§Ãµes
- **GET** `/api/sensors` - Dados dos sensores
- **GET** `/api/status` - Status do sistema
- **GET** `/api/capabilities` - Capabilities do hardware â­ **NOVO**
- **GET** `/api/system/info` - InformaÃ§Ãµes do sistema

---

## ğŸ› ï¸ **TROUBLESHOOTING**

### **Problema: ConfiguraÃ§Ãµes nÃ£o salvam**
- âœ… **RESOLVIDO na v2.0.6!** Sistema de persistÃªncia implementado
- Use o botÃ£o "ğŸ’¾ Salvar Todas as ConfiguraÃ§Ãµes"
- Verifique logs no Debug Console (agora no final da pÃ¡gina)

### **Problema: Muitos logs no Debug Console**
- âœ… **RESOLVIDO na v2.0.7!** Sistema de logs inteligentes implementado
- Debug Console movido para o final da pÃ¡gina
- Logs apenas quando hÃ¡ mudanÃ§as reais

### **Problema: NÃ£o consegue conectar**
- Verifique se estÃ¡ na rede correta
- Tente `reefcontrol.local` se suportado
- Reset de fÃ¡brica: segure RESET por 10s

### **Problema: OTA falha**
- Arquivo deve ter exatamente o nome correto
- Tamanho mÃ¡ximo: 1MB
- Use apenas arquivos `.bin` oficiais

### **Problema: RelÃ©s nÃ£o funcionam**
- Verifique pinout no `/output`
- Teste individual com botÃ£o "Testar"
- Verifique logs no Serial Monitor

---

## ğŸ“ **SUPORTE**

- **GitHub:** [ReefControl_V2.0](https://github.com/felipeauti/ReefControl_V2.0)
- **DocumentaÃ§Ã£o:** [Wiki do Projeto](https://github.com/felipeauti/ReefControl_V2.0/wiki)
- **Issues:** [Reportar Bugs](https://github.com/felipeauti/ReefControl_V2.0/issues)

---

**ğŸ  ReefControl v2.0 - AutomaÃ§Ã£o Profissional para AquÃ¡rios**  
*Desenvolvido com â¤ï¸ para a comunidade aquarista*

# ReefControl - HistÃ³rico de VersÃµes

## v3.0.0 (2024-01-09)
- Suporte a sensor de temperatura DS18B20 funcionando em ambas plataformas
- ESP32 Pro: Sensor no GPIO4
- Wemos D1 Mini: Sensor no D2 (GPIO4)
- Debug serial mostrando temperatura a cada 5 segundos
- ValidaÃ§Ã£o de temperatura (-50Â°C a 100Â°C)
- MÃ©dia mÃ³vel de 10 leituras
- Controle automÃ¡tico do aquecedor
- PublicaÃ§Ã£o MQTT
- Interface web atualizada 

### **v3.0.x** - MarÃ§o/2024 - CALIBRAÃ‡ÃƒO DE TEMPERATURA DS18B20! ğŸŒ¡ï¸âœ¨
**ğŸ¯ EVOLUÃ‡ÃƒO COMPLETA:** Sistema de calibraÃ§Ã£o de temperatura implementado e funcionando!

**âœ… FUNCIONALIDADES IMPLEMENTADAS:**

**ğŸŒ¡ï¸ CalibraÃ§Ã£o DS18B20:**
- **DetecÃ§Ã£o AutomÃ¡tica** do endereÃ§o OneWire (28ff5feb61160367)
- **Interface Web Dedicada** para calibraÃ§Ã£o de temperatura
- **CÃ¡lculo de Offset Preciso** baseado em valor real informado
- **PersistÃªncia da CalibraÃ§Ã£o** apÃ³s reinicializaÃ§Ã£o
- **Logs Detalhados** mostrando temperatura raw, offset e ajustada

**ğŸ”Œ APIs Implementadas:**
- **/api/onewire/scan** - Busca endereÃ§os OneWire disponÃ­veis
- **/api/pins/available** - Lista pinos disponÃ­veis para sensores
- **/api/sensor/calibrate** - Endpoint para calibraÃ§Ã£o de temperatura

**ğŸ“± Interface Web:**
- **PÃ¡gina Sensors** completamente reformulada
- **Campo para Valor Real** de temperatura
- **BotÃ£o de CalibraÃ§Ã£o** com feedback visual
- **ExibiÃ§Ã£o do EndereÃ§o OneWire** do sensor
- **Status em Tempo Real** da temperatura

**ğŸ”§ CorreÃ§Ãµes e Melhorias:**
- **RestauraÃ§Ã£o do HTML** original com IDs corretos
- **ImplementaÃ§Ã£o do JavaScript** para calibraÃ§Ã£o
- **CorreÃ§Ã£o do Envio** do valor real ao backend
- **OtimizaÃ§Ã£o do CÃ³digo** para ambas plataformas
- **Debug Console** com informaÃ§Ãµes detalhadas

**ğŸ“Š VersÃµes LanÃ§adas:**
- **v3.0.3** - RestauraÃ§Ã£o do HTML original
- **v3.0.4** - ImplementaÃ§Ã£o do scanOneWireAddresses
- **v3.0.5** - APIs para endereÃ§os e pinos
- **v3.0.6** - ImplementaÃ§Ã£o inicial da calibraÃ§Ã£o
- **v3.0.7** - Sistema 100% funcional! 